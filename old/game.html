<!DOCTYPE HTML>
<html>
	<head>
		<title>Space Invader</title>
		<script src='./map.js'></script>
		<script src='./vector.js'></script>
		<script src='./grid.js'></script>
		<script src='./list.js'></script>
		<script src='./systems.js'></script>
		<script src='./entity.js'></script>
		<script src='./components.js'></script>
		<script src='./player.js'></script>
		<script src='./invaders.js'></script>
		<script src='./bullets.js'></script>
		<script src='./entities.js'></script>
		<script src='./world.js'></script>
		<style>
			table {
				display:inline-block;
				border-collapse: collapse;
			}
			table td {
				/*border:1px solid black;*/
				text-align:center;
				width:15px;
				height:15px;
				padding:0; 
				margin:0;
			}
			#scene-container {
				display: inline-block;
				border: 1px solid black;
			}
		</style>
	</head>
	<body>
		<div id='scene-container'>
			<table id='board'></table>
		</div>
	<script>
		var table = document.querySelector('#board');
		var scene = document.querySelector('#scene-container');
		var world = new World(map, entities);
  		world.init(map, table);
  		requestAnimationFrame(gameLoop);

  		function gameLoop() {
			update();
			render();
			requestAnimationFrame(gameLoop);
		}

		function update() {
			world.entities.invaders.update(world.grid);
			world.entities.player.update(systems.input.inputHandler, world.grid);
		}

		function render() {
			systems.render.renderCanvas(world.entities, world.grid);
		}

		document.addEventListener('DOMContentLoaded', function() {
		});
	</script>

	</body>
</html>